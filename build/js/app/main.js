"use strict";!function(e,t,o){e(function(){var i=function(e){return void 0!==e&&e.length},n=new o(".main-slider",{loop:!0,loopedSlides:4,slidesPerView:1,grabCursor:!0,autoplay:3e3}),l=new o(".main-slider-thumbs",{spaceBetween:4,centeredSlides:!0,slidesPerView:4,touchRatio:.2,slideToClickedSlide:!0,direction:"vertical",loop:!0,loopedSlides:4,onSlideChangeEnd:function(e){var t=e.realIndex;(t+4>e.slides.length||t-4<0)&&setTimeout(e.fixLoop,100)}});if(i(n.container)&&i(l.container)){n.params.control=l,l.params.control=n;var s=function(t){e(t.container).hover(function(){n.stopAutoplay(),l.stopAutoplay()},function(){n.startAutoplay(),l.startAutoplay()})};s(n),s(l)}var a=new o(".detail-gal",{loop:!0,loopedSlides:4,slidesPerView:1}),r=new o(".detail-gal-thumbs",{slidesPerView:"auto",touchRatio:.2,loop:!0,slideToClickedSlide:!0,loopedSlides:4,onSlideChangeEnd:function(e){8===e.activeIndex&&(e.update(!0),e.slideTo(0,0))}});a.params.control=r,r.params.control=a,e("#lang").selectmenu(),e(".gallery").swiper({slidesPerView:"auto"});var c=function(t){var o=e(t.currentTarget);o.val().length>0?o.addClass("text"):o.removeClass("text")};e(".form__input").on("keyup",c);var p=function(e){e.jfilestyle({buttonText:"Обзор",placeholder:"",inputSize:"calc(100% - 134px)"})};p(e('.js-file input[type="file"]'));new t("Modal",{attach:".js-popup",closeOnClick:!1,onOpen:function(){var e=this,t=this.source,o=this.content,i=t.find(".popup-block");t.find('.js-file input[type="file"]').jfilestyle("destroy");var n=i.html();void 0!==n&&n.length?(i.remove(),this.setContent(n),o.find(".popup__button").on("click",function(t){t.preventDefault(),e.close()}),o.find(".form__input").on("keyup",c),p(o.find('.js-file input[type="file"]'))):this.close()},onCloseComplete:function(){var e=this.content;e.find('.js-file input[type="file"]').jfilestyle("destroy");var t=e.html();e.find(".popup").remove(),this.source.append('<div class="popup-block">'+t+"</div>")}}),e(".js-popup").on("click",function(e){e.preventDefault()}),new t("Tooltip",{attach:".js-touch",trigger:"click",position:{x:"left",y:"top"},outside:"x",closeOnClick:"body",onOpen:function(){var t=e(this.source.data("target")).html();void 0!==t&&t.length?this.setContent(t):this.close()}}),e(".js-search").on("click",function(t){t.preventDefault(),e(t.currentTarget.dataset.target).toggleClass("show"),e(t.currentTarget).toggleClass("active")})})}(jQuery,jBox,Swiper);